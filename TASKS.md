# üìù Comprehensive Action Items & Fixes Checklist

‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏à‡∏≤‡∏Å **QA_REPORT.md** ‡πÇ‡∏î‡∏¢‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç

## üî¥ Priority 0: Critical (‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏ó‡∏±‡∏ô‡∏ó‡∏µ - ‡∏£‡∏∞‡∏ö‡∏ö‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á)
> *‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ‡∏´‡πâ‡∏≤‡∏°‡∏ô‡∏≥‡∏Ç‡∏∂‡πâ‡∏ô Production ‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î*

- [ ] **Fix Lucky Draw Race Condition (BUG-001)**
    - [ ] **File:** `app/api/luckydraw/route.js`
    - [ ] **Action:** ‡∏•‡∏ö‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á `CREATE TABLE IF NOT EXISTS` ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å Transaction
    - [ ] **Action:** ‡∏¢‡πâ‡∏≤‡∏¢ Logic ‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÑ‡∏õ‡πÑ‡∏ß‡πâ‡πÉ‡∏ô Migration Script
    - [ ] **Action:** ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Transaction Isolation Level ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ `FOR UPDATE` ‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- [ ] **Database Schema Migration**
    - [ ] **Action:** ‡∏£‡∏±‡∏ô SQL ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á `claim_queue` ‡πÉ‡∏ô Database ‡∏à‡∏£‡∏¥‡∏á
    - [ ] **Action:** ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `scripts/migrate_claim_queue.js` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Deploy

## üü† Priority 1: High (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û)
> *‡∏Ñ‡∏ß‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡∏∞ Server Load*

- [ ] **Fix Rate Limiting Logic (BUG-002)**
    - [ ] **File:** `app/api/luckydraw/route.js`
    - [ ] **Action:** ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å‡πÄ‡∏ä‡πá‡∏Ñ IP Address ‡πÄ‡∏õ‡πá‡∏ô `session.user.id` (Discord ID)
    - [ ] **File:** `app/api/user/register/route.js`
    - [ ] **Action:** ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å‡πÄ‡∏ä‡πá‡∏Ñ IP Address ‡πÄ‡∏õ‡πá‡∏ô `session.user.id`
- [ ] **Remove Dead Code & Double Commit (BUG-003)**
    - [ ] **File:** `app/api/luckydraw/route.js`
    - [ ] **Action:** ‡∏•‡∏ö‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡∏´‡∏•‡∏±‡∏á `return` ‡πÅ‡∏•‡∏∞ `connection.commit()` ‡∏ó‡∏µ‡πà‡∏ã‡πâ‡∏≥‡∏ã‡πâ‡∏≠‡∏ô

## üü° Priority 2: UX/UI Improvements (‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ)
> *‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô*

- [ ] **Fix Touch Targets (Mobile)**
    - [ ] **Action:** ‡∏Ç‡∏¢‡∏≤‡∏¢‡∏Ç‡∏ô‡∏≤‡∏î‡∏õ‡∏∏‡πà‡∏° "Spin" ‡πÅ‡∏•‡∏∞‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π‡πÉ‡∏´‡πâ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 44px
- [ ] **Add Loading States**
    - [ ] **Page:** Register
    - [ ] **Action:** ‡πÄ‡∏û‡∏¥‡πà‡∏° Loading Spinner ‡∏´‡∏£‡∏∑‡∏≠ Disable ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏î "‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô"
    - [ ] **Page:** Lucky Draw
    - [ ] **Action:** ‡πÄ‡∏û‡∏¥‡πà‡∏° Feedback "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏´‡∏°‡∏∏‡∏ô..." ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏£‡∏≠ API
- [ ] **Improve User Feedback**
    - [ ] **Feature:** Daily Check-in
    - [ ] **Action:** ‡πÄ‡∏û‡∏¥‡πà‡∏° Toast/Notification ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏î‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• (Success/Error)
- [ ] **Fix Layout Shift (CLS)**
    - [ ] **Page:** News
    - [ ] **Action:** ‡∏Å‡∏≥‡∏´‡∏ô‡∏î `width` ‡πÅ‡∏•‡∏∞ `height` ‡∏´‡∏£‡∏∑‡∏≠ `aspect-ratio` ‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏Ç‡πà‡∏≤‡∏ß
    - [ ] **Global:** ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î Font (FOUT) ‡∏≠‡∏≤‡∏à‡πÉ‡∏ä‡πâ `next/font` ‡πÄ‡∏û‡∏∑‡πà‡∏≠ Optimize

## üü¢ Priority 3: Performance Tuning (‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß)
> *‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏ß‡πá‡∏ö‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô‡πÅ‡∏•‡∏∞‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô Lighthouse ‡∏™‡∏π‡∏á‡∏Ç‡∏∂‡πâ‡∏ô*

- [ ] **Optimize LCP (Largest Contentful Paint)**
    - [ ] **Page:** Home (Hero Section)
    - [ ] **Action:** ‡πÄ‡∏û‡∏¥‡πà‡∏° property `priority` ‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û Banner (`<Image priority ... />`)
- [ ] **Optimize Images**
    - [ ] **Action:** ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ Format WebP ‡πÅ‡∏•‡∏∞‡∏Ç‡∏ô‡∏≤‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°

## ÔøΩ Priority 4: Security & Maintenance (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°)
- [ ] **Security Audit Review**
    - [ ] **Action:** ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö `dangerouslySetInnerHTML` ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏Ç‡πà‡∏≤‡∏ß (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ) ‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏Å‡∏≤‡∏£ Sanitize ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
- [ ] **Code Cleanup**
    - [ ] **Action:** ‡∏•‡∏ö Comment ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î Format Code
