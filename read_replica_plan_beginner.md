-- Active: 1764267199373@@127.0.0.1@3306@esxlegacy_17b6de
# ‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Database ‡πÅ‡∏¢‡∏Å (Read Replica) ‡∏â‡∏ö‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡πÉ‡∏´‡∏°‡πà üî∞
*‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢: ‡πÅ‡∏¢‡∏Å Database ‡πÄ‡∏ß‡πá‡∏ö‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡πÄ‡∏Å‡∏° ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏Å‡∏°‡∏•‡∏∑‡πà‡∏ô‡πÑ‡∏´‡∏• ‡πÑ‡∏°‡πà‡πÅ‡∏•‡∏Ñ ‡πÅ‡∏°‡πâ‡∏Ñ‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏°‡∏∑‡πà‡∏ô*

---

## üóìÔ∏è Phase 1: ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏° (10 ‡∏ô‡∏≤‡∏ó‡∏µ)

### 1. ‡πÄ‡∏ä‡πá‡∏Ñ‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ
- [ ] **‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡πÄ‡∏Å‡∏° (Master):** ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ô FiveM ‡∏≠‡∏¢‡∏π‡πà‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
- [ ] **‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ß‡πá‡∏ö (Slave):** ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏£‡∏±‡∏ô Database ‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà 2 (‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏î‡∏¥‡∏°‡πÅ‡∏ï‡πà‡∏Ñ‡∏ô‡∏•‡∏∞ Port ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏•‡∏¢‡∏Å‡πá‡πÑ‡∏î‡πâ)

### 2. ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°
- [ ] ‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏° **HeidiSQL** ‡∏´‡∏£‡∏∑‡∏≠ **Navicat** (‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Database ‡∏á‡πà‡∏≤‡∏¢‡πÜ)

---

## üóìÔ∏è Phase 2: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏Å‡∏° (Master) (15 ‡∏ô‡∏≤‡∏ó‡∏µ)
*‡∏ó‡∏≥‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ô FiveM*

1. **‡∏´‡∏≤‡πÑ‡∏ü‡∏•‡πå Config:**
   - ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á MySQL/XAMPP
   - ‡∏°‡∏≠‡∏á‡∏´‡∏≤‡πÑ‡∏ü‡∏•‡πå‡∏ä‡∏∑‡πà‡∏≠ `my.ini` (Windows) ‡∏´‡∏£‡∏∑‡∏≠ `my.cnf` (Linux)

2. **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå:**
   - ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏î‡πâ‡∏ß‡∏¢ Notepad
   - ‡∏´‡∏≤‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î `[mysqld]`
   - ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏Ñ‡πâ‡∏î‡∏ô‡∏µ‡πâ‡∏ï‡πà‡∏≠‡∏ó‡πâ‡∏≤‡∏¢:
     ```ini
     server-id = 1
     log_bin = mysql-bin
     binlog_do_db = ‡∏ä‡∏∑‡πà‡∏≠‡∏î‡∏≤‡∏ï‡πâ‡∏≤‡πÄ‡∏ö‡∏™_fivem_‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
     ```
   - *‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô `‡∏ä‡∏∑‡πà‡∏≠‡∏î‡∏≤‡∏ï‡πâ‡∏≤‡πÄ‡∏ö‡∏™_fivem_‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì` ‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏à‡∏£‡∏¥‡∏á ‡πÄ‡∏ä‡πà‡∏ô `es_extended`*

3. **Restart MySQL:**
   - ‡∏Å‡∏î Stop ‡πÅ‡∏•‡πâ‡∏ß Start MySQL ‡πÉ‡∏´‡∏°‡πà

4. **‡∏™‡∏£‡πâ‡∏≤‡∏á User ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠:**
   - ‡πÄ‡∏õ‡∏¥‡∏î HeidiSQL ‡πÄ‡∏Ç‡πâ‡∏≤ Database ‡πÄ‡∏Å‡∏°
   - ‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ô‡∏µ‡πâ (‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô `‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏•‡∏±‡∏ö` ‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏≠‡∏á):
     ```sql
     CREATE USER 'replica_user'@'%' IDENTIFIED BY '‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏•‡∏±‡∏ö';
     GRANT REPLICATION SLAVE ON *.* TO 'replica_user'@'%';
     FLUSH PRIVILEGES;
     ```

5. **‡∏à‡∏î‡∏Ñ‡πà‡∏≤‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:**
   - ‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á: `SHOW MASTER STATUS;`
   - **‡∏à‡∏î‡∏Ñ‡πà‡∏≤ 2 ‡∏ä‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ‡πÑ‡∏ß‡πâ:**
     - `File`: (‡πÄ‡∏ä‡πà‡∏ô mysql-bin.000001)
     - `Position`: (‡πÄ‡∏ä‡πà‡∏ô 154)

---

## üóìÔ∏è Phase 3: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏ß‡πá‡∏ö (Slave) (20 ‡∏ô‡∏≤‡∏ó‡∏µ)
*‡∏ó‡∏≥‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏Å‡πá‡∏ö Database ‡∏™‡∏≥‡∏£‡∏≠‡∏á*

1. **‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á MySQL:** (‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ)
2. **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå Config (`my.ini`):**
   - ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏Ñ‡πâ‡∏î‡∏ô‡∏µ‡πâ‡∏ï‡πà‡∏≠‡∏ó‡πâ‡∏≤‡∏¢ `[mysqld]`:
     ```ini
     server-id = 2
     ```
   - *‡πÄ‡∏•‡∏Ç‡∏ï‡πâ‡∏≠‡∏á‡∏´‡πâ‡∏≤‡∏°‡∏ã‡πâ‡∏≥‡∏Å‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏Å‡∏° (‡∏´‡πâ‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô 1)*

3. **Restart MySQL:**

4. **‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏Å‡∏°:**
   - ‡πÄ‡∏õ‡∏¥‡∏î HeidiSQL ‡πÄ‡∏Ç‡πâ‡∏≤ Database ‡πÄ‡∏ß‡πá‡∏ö (Slave)
   - ‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ô‡∏µ‡πâ (‡πÉ‡∏™‡πà‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏î‡∏°‡∏≤):
     ```sql
     CHANGE MASTER TO
         MASTER_HOST='IP_‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏Å‡∏°',
         MASTER_USER='replica_user',
         MASTER_PASSWORD='‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏•‡∏±‡∏ö',
         MASTER_LOG_FILE='mysql-bin.000001',  -- ‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏î‡∏°‡∏≤
         MASTER_LOG_POS=154;                  -- ‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏î‡∏°‡∏≤

     START SLAVE;
     ```

5. **‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:**
   - ‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á: `SHOW SLAVE STATUS;`
   - ‡∏î‡∏π‡∏ä‡πà‡∏≠‡∏á `Slave_IO_Running` ‡πÅ‡∏•‡∏∞ `Slave_SQL_Running` ‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏ß‡πà‡∏≤ **Yes** ‡∏ó‡∏±‡πâ‡∏á‡∏Ñ‡∏π‡πà ‚úÖ

---

## üóìÔ∏è Phase 4: ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå (5 ‡∏ô‡∏≤‡∏ó‡∏µ)
*‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏ó‡∏µ‡πà‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå*

1. **‡πÅ‡∏Å‡πâ‡πÑ‡∏ü‡∏•‡πå `.env`:**
   ```env
   # Database ‡∏´‡∏•‡∏±‡∏Å (‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏Å‡∏° - ‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•)
   DB_HOST_MASTER=IP_‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏Å‡∏°
   DB_USER_MASTER=root
   DB_PASS_MASTER=‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô

   # Database ‡∏£‡∏≠‡∏á (‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏ß‡πá‡∏ö - ‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•)
   DB_HOST_SLAVE=IP_‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏ß‡πá‡∏ö
   DB_USER_SLAVE=root
   DB_PASS_SLAVE=‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô
   ```

2. **‡πÅ‡∏Å‡πâ‡πÑ‡∏ü‡∏•‡πå `lib/db.js`:**
   - (‡πÉ‡∏ä‡πâ‡πÇ‡∏Ñ‡πâ‡∏î‡∏ó‡∏µ‡πà‡∏ú‡∏°‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÉ‡∏´‡πâ‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå `database_read_replica_guide.md`)

---

## üéâ ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô!
‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏ß‡πá‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏™‡∏≥‡∏£‡∏≠‡∏á ‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ä‡∏≤‡∏ç‡∏â‡∏•‡∏≤‡∏î ‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡πÄ‡∏Å‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏´‡∏≤‡∏¢‡∏´‡πà‡∏ß‡∏á!
